{"version":3,"sources":["components/Navigation/ToolBar/NavigationItem/NavigationItem.js","components/Button/Button.js","apis/stya.js","store/actions/auth.js","store/actions/actionTypes.js","store/actions/searching.js","components/Navigation/ToolBar/ToolBar.js","scenes/Layout/Layout.js","components/Message/Message.js","components/Input/Input.js","scenes/Layout/Login/Login.js","components/SearchBar/SearchBar.js","scenes/Layout/NIMFinder/Results/Result/Result.js","scenes/Layout/NIMFinder/Results/Results.js","scenes/Layout/NIMFinder/NIMFinder.js","components/App.js","store/reducers/auth.js","store/reducers/searching.js","index.js"],"names":["NavigationItem","props","react_default","a","createElement","react_router_dom","className","to","children","Button","onClick","axios","create","baseURL","transformRequest","jsonData","arguments","length","undefined","Object","entries","map","x","concat","encodeURIComponent","join","toUrlEncoded","authStart","type","authSuccess","token","localStorage","setItem","userToken","authFail","failedResData","header","message","status","logout","removeItem","logoutOnTokenExpire","expireDate","duration","Date","getTime","dispatch","timer","setTimeout","sendAction","searchStart","keyword","search","isOnDemand","page","_ref","asyncToGenerator","regenerator_default","mark","_callee","res","payload","wrap","_context","prev","next","stya","get","headers","Auth-Token","params","name","count","sent","data","searchFound","searchNotFound","notSearching","stop","_x","apply","this","results","hasMore","ToolBarComponent","handleLoginLogout","event","_this","isLoggedIn","preventDefault","toBeRendered","react","NavigationItem_NavigationItem","Button_Button","Component","ToolBar","connect","state","auth","Layout","_Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","key","value","isAuth","isAuthenticated","drawerToggleClicked","sideDrawerToggleHandler","style","Message","Input","_getPrototypeOf2","_len","args","Array","_key","call","input","onChange","persist","setState","target","label","placeholder","LoginComponent","checked","username","password","handleCheckboxChange","onButtonClick","e","_this$state","includes","onInputChange","defineProperty","messageComponent","redirect","authMessage","_this$props$authMessa","Message_Message","react_router","Input_Input","Login","email","islogin","isLogin","authData","url","post","then","responseData","code","expirationDate","catch","err","SearchBarComponent","currentKeyword","componentDidMount","onKeywordChange","clearTimeout","fontFamily","fontWeight","React","SearchBar","Result","item","src","alt","prodi","nim_jur","nim_tpb","ResultsComponent","handleScroll","_","throttle","_document$documentEle","document","documentElement","reachBottom","scrollHeight","scrollTop","clientHeight","_this$props","isLoading","onDemand","window","addEventListener","content","Result_Result","marginTop","marginBottom","Results","NIMFinderComponent","NIMFinder","App","tryLoginAtStart","Layout_Layout","path","component","logoutTimer","storedToken","getItem","initialState","authLoading","authReducer","action","objectSpread","regisSucces","logoutTimeout","sendSearchMessage","searchingReducer","toConsumableArray","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","combinedReducers","combineReducers","searchReducer","store","createStore","applyMiddleware","thunk","ReactDOM","render","es","basename","process","components_App","querySelector"],"mappings":"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","file":"static/js/main.fab94074.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const NavigationItem = props => {\r\n  return (\r\n    <Link className=\"item\" to={props.to}>\r\n      {props.children}\r\n    </Link>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Button = props => {\r\n  return (\r\n    <div className={\"ui button \" + props.className} onClick={props.onClick}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst toUrlEncoded = (jsonData = {}) =>\r\n  Object.entries(jsonData)\r\n    .map(x => `${encodeURIComponent(x[0])}=${encodeURIComponent(x[1])}`)\r\n    .join(\"&\");\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://api.stya.net/nim\",\r\n  transformRequest: jsonData => toUrlEncoded(jsonData)\r\n});\r\n","import stya from \"../../apis/stya\";\r\nimport * as actionTypes from \"./actionTypes\";\r\n\r\nconst TWELVE_HOURS_MS = 12 * 3600 * 1000;\r\n\r\nexport const authStart = () => {\r\n  return {\r\n    type: actionTypes.AUTH_START\r\n  };\r\n};\r\n\r\nexport const authSuccess = token => {\r\n  localStorage.setItem(\"userToken\", token);\r\n  return { type: actionTypes.AUTH_SUCCESS, userToken: token };\r\n};\r\n\r\nexport const authFail = failedResData => {\r\n  return {\r\n    type: actionTypes.AUTH_FAIL,\r\n    header: \"Error\",\r\n    message: failedResData.status\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem(\"userToken\");\r\n  localStorage.removeItem(\"expireDate\");\r\n  return {\r\n    type: actionTypes.AUTH_LOGOUT\r\n  };\r\n};\r\n\r\nexport const registerSuccess = () => {\r\n  return {\r\n    type: actionTypes.REGIS_SUCCESS,\r\n    header: \"Success!\",\r\n    message: \"You have registered successfully!\"\r\n  };\r\n};\r\n\r\nexport const tryLoginAtStart = () => {\r\n  return async dispatch => {\r\n    var storedToken = localStorage.getItem(\"userToken\");\r\n\r\n    if (!storedToken) {\r\n      dispatch(logout());\r\n    } else {\r\n      var expireDate = new Date(localStorage.getItem(\"expireDate\"));\r\n      var duration = expireDate.getTime() - new Date().getTime();\r\n\r\n      //if less than 1 minute\r\n      if (duration <= 1 * 60 * 1000) {\r\n        dispatch(logout());\r\n      } else {\r\n        dispatch(authSuccess(storedToken));\r\n        dispatch(logoutOnTokenExpire(expireDate));\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\n//expiration time ini millisecond\r\nexport const logoutOnTokenExpire = expireDate => {\r\n  localStorage.setItem(\"expireDate\", expireDate);\r\n  var duration = new Date(expireDate).getTime() - new Date().getTime();\r\n\r\n  return dispatch => {\r\n    const sendAction = dispatch => {\r\n      return {\r\n        type: actionTypes.LOGOUT_TIMEOUT,\r\n        timer: setTimeout(() => {\r\n          dispatch(logout());\r\n        }, duration)\r\n      };\r\n    };\r\n    dispatch(sendAction(dispatch));\r\n  };\r\n};\r\n\r\nexport const auth = (username, password, isLogin) => {\r\n  return dispatch => {\r\n    dispatch(authStart);\r\n\r\n    const authData = { username: username, password: password };\r\n    let url = \"/login\";\r\n\r\n    if (!isLogin) {\r\n      url = \"/register\";\r\n    }\r\n\r\n    stya\r\n      .post(url, authData)\r\n\r\n      .then(res => {\r\n        const responseData = res.data;\r\n\r\n        if (isLogin) {\r\n          // if login success\r\n          if (responseData.code === 0) {\r\n            const expirationDate = new Date(\r\n              new Date().getTime() + TWELVE_HOURS_MS\r\n            );\r\n            dispatch(authSuccess(responseData.token));\r\n            dispatch(logoutOnTokenExpire(expirationDate));\r\n          } else {\r\n            dispatch(authFail(responseData));\r\n          }\r\n        } else {\r\n          // register process\r\n          if (responseData.code === 0) {\r\n            dispatch(registerSuccess());\r\n          } else {\r\n            dispatch(authFail(responseData));\r\n          }\r\n        }\r\n      })\r\n\r\n      .catch(err => {});\r\n  };\r\n};\r\n","export const AUTH_START = \"AUTH_START\";\r\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\r\nexport const AUTH_FAIL = \"AUTH_FAIL\";\r\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\r\nexport const REGIS_SUCCESS = \"REGIS_SUCCESS\";\r\nexport const LOGOUT_TIMEOUT = \"LOGOUT_TIMEOUT\";\r\n\r\nexport const SEARCH_START = \"SEARCH_START\";\r\nexport const SEARCH_FOUND = \"SEARCH_FOUND\";\r\nexport const SEARCH_NOT_FOUND = \"SEARCH_NOT_FOUND\";\r\nexport const NOT_SEARCHING = \"NOT_SEARCHING\";\r\n","import stya from \"../../apis/stya\";\r\nimport * as actionTypes from \"./actionTypes\";\r\nimport { logoutOnTokenExpire } from \"./auth\";\r\n\r\nconst TWELVE_HOURS_MS = 12 * 3600 * 1000;\r\n\r\nconst searchStart = keyword => {\r\n  return {\r\n    type: actionTypes.SEARCH_START,\r\n    message: {\r\n      type: \"yellow\",\r\n      header: \"Loading...\",\r\n      message: \"Trying to load data, please wait\"\r\n    },\r\n    keyword: keyword\r\n  };\r\n};\r\n\r\nexport const search = (\r\n  keyword,\r\n  userToken,\r\n  isOnDemand,\r\n  page\r\n) => async dispatch => {\r\n  if (keyword.length > 0) {\r\n    dispatch(searchStart(keyword));\r\n    const res = await stya.get(\"/byname\", {\r\n      headers: {\r\n        \"Auth-Token\": userToken\r\n      },\r\n      params: {\r\n        name: keyword,\r\n        count: 30,\r\n        page: page\r\n      }\r\n    });\r\n\r\n    const payload = await res.data.payload;\r\n\r\n    if (payload.length > 0) {\r\n      dispatch(searchFound(payload, isOnDemand, true));\r\n    } else {\r\n      // jika tidak ada hasil\r\n      if (isOnDemand) {\r\n        dispatch(searchFound([], isOnDemand, false));\r\n      } else {\r\n        dispatch(searchNotFound());\r\n      }\r\n    }\r\n    var expireDate = new Date(new Date().getTime() + TWELVE_HOURS_MS);\r\n\r\n    dispatch(logoutOnTokenExpire(expireDate));\r\n  } else {\r\n    dispatch(notSearching());\r\n  }\r\n};\r\n\r\nconst searchNotFound = () => {\r\n  return {\r\n    type: actionTypes.SEARCH_NOT_FOUND,\r\n    message: {\r\n      type: \"negative\",\r\n      header: \"Not Found!\",\r\n      message: \"Sorry, we can't find any result :(\"\r\n    }\r\n  };\r\n};\r\n\r\nconst searchFound = (results, isOnDemand, hasMore) => {\r\n  return {\r\n    type: actionTypes.SEARCH_FOUND,\r\n    results: results,\r\n    isOnDemand: isOnDemand,\r\n    hasMore: hasMore\r\n  };\r\n};\r\n\r\nconst notSearching = () => {\r\n  return {\r\n    type: actionTypes.NOT_SEARCHING,\r\n    message: {\r\n      type: \"blue\",\r\n      header: \"Searching?\",\r\n      message: \"Please type in your keyword\"\r\n    }\r\n  };\r\n};\r\n","import React, { Component, Fragment } from \"react\";\r\nimport { NavigationItem } from \"./NavigationItem\";\r\nimport { Button } from \"../../Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../../store/actions\";\r\n\r\nclass ToolBarComponent extends Component {\r\n  handleLoginLogout = event => {\r\n    const { isLoggedIn } = this.props;\r\n    event.preventDefault();\r\n    if (isLoggedIn) {\r\n    } else {\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let toBeRendered;\r\n    const { isLoggedIn } = this.props;\r\n\r\n    if (isLoggedIn) {\r\n      toBeRendered = (\r\n        <Fragment>\r\n          <NavigationItem to=\"/\">Home</NavigationItem>\r\n          <div className=\"right menu\">\r\n            <div className=\"item\">\r\n              <Button className=\"primary\" onClick={this.props.logout}>\r\n                Logout\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      );\r\n    } else {\r\n      toBeRendered = (\r\n        <Fragment>\r\n          <div className=\"right menu\">\r\n            <div className=\"item\">\r\n              <Link to=\"/login\">\r\n                <Button className=\"primary\">Login</Button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"ui menu\">\r\n        <div className=\"header item\">ITB NIM Finder</div>\r\n        {toBeRendered}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { isLoggedIn: state.auth.userToken != null };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return { logout: () => dispatch(logout()) };\r\n};\r\nexport const ToolBar = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ToolBarComponent);\r\n","import React, { Component } from \"react\";\r\nimport { ToolBar } from \"../../components/Navigation/ToolBar\";\r\n\r\nexport class Layout extends Component {\r\n  // style = {\r\n  //   height: \"800px\"\r\n  // };\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/* The persistent toolbar */}\r\n        <ToolBar\r\n          isAuth={this.props.isAuthenticated}\r\n          drawerToggleClicked={this.sideDrawerToggleHandler}\r\n        />\r\n        {/* This is the container of the content which is changing */}\r\n        <main className=\"main\" style={this.style}>\r\n          {this.props.children}\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport const Message = props => {\r\n  return (\r\n    <div className={`ui message ${props.className}`}>\r\n      <div className=\"header\">{props.header}</div>\r\n      <p>{props.message}</p>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nexport class Input extends Component {\r\n  state = { input: \"\" };\r\n\r\n  onChange = event => {\r\n    event.persist();\r\n    this.setState({ input: event.target.value }, () => {\r\n      this.props.onChange(event);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"field\">\r\n        <label>{this.props.label}</label>\r\n        <input\r\n          type={this.props.className === \"password\" ? \"password\" : \"text\"}\r\n          placeholder={this.props.placeholder}\r\n          value={this.state.input}\r\n          onChange={this.onChange}\r\n          className={this.props.className}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport { auth } from \"../../../store/actions/auth\";\r\nimport { Button } from \"../../../components/Button\";\r\nimport { Message } from \"../../../components/Message\";\r\nimport { Input } from \"../../../components/Input\";\r\n\r\nclass LoginComponent extends Component {\r\n  state = { checked: true, username: \"\", password: \"\" };\r\n\r\n  handleCheckboxChange = event => {\r\n    this.setState({ checked: !this.state.checked });\r\n  };\r\n\r\n  onButtonClick = e => {\r\n    e.preventDefault();\r\n    const { username, password } = this.state;\r\n    if (e.target.className.includes(\"login\")) {\r\n      this.props.auth(username, password, true);\r\n    } else {\r\n      this.props.auth(username, password, false);\r\n    }\r\n    // this.props.history.push(\"/\");\r\n  };\r\n\r\n  onInputChange = event => {\r\n    this.setState({ [event.target.className]: event.target.value });\r\n  };\r\n  render() {\r\n    var messageComponent, redirect;\r\n    if (this.props.authMessage) {\r\n      const { type, header, message } = this.props.authMessage;\r\n      messageComponent = (\r\n        <Message className={type} header={header} message={message} />\r\n      );\r\n    }\r\n\r\n    if (this.props.isLoggedIn) {\r\n      redirect = <Redirect to=\"/\" />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"ui raised very padded segment\">\r\n        {redirect}\r\n        <h2 className=\"ui header\">Login</h2>\r\n        <form className=\"ui form\">\r\n          <Input\r\n            className=\"username\"\r\n            label=\"Username\"\r\n            placeholder=\"Username\"\r\n            onChange={this.onInputChange}\r\n          />\r\n          <Input\r\n            className=\"password\"\r\n            label=\"Password\"\r\n            placeholder=\"Password\"\r\n            onChange={this.onInputChange}\r\n          />\r\n          {messageComponent}\r\n          {/* <Message className=\"negative\" header=\"test\" message=\"cobain dong\" /> */}\r\n          <Button className=\"login\" onClick={this.onButtonClick}>\r\n            Login\r\n          </Button>\r\n          <Button className=\"signup\" onClick={this.onButtonClick}>\r\n            Signup\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    authMessage: state.auth.authMessage,\r\n    isLoggedIn: state.auth.userToken != null\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    auth: (email, password, islogin) => dispatch(auth(email, password, islogin))\r\n  };\r\n};\r\n\r\nexport const Login = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LoginComponent);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { search } from \"../../store/actions/\";\r\n\r\nclass SearchBarComponent extends React.Component {\r\n  state = { currentKeyword: \"\", timer: null };\r\n\r\n  componentDidMount = () => {\r\n    this.props.search(\"\", this.props.userToken);\r\n  };\r\n\r\n  onKeywordChange = event => {\r\n    // event.persist();\r\n    clearTimeout(this.state.timer);\r\n\r\n    this.setState({ currentKeyword: event.target.value });\r\n\r\n    const timer = setTimeout(() => {\r\n      this.props.search(\r\n        this.state.currentKeyword,\r\n        this.props.userToken,\r\n        false,\r\n        0\r\n      );\r\n    }, 500);\r\n\r\n    this.setState({ timer: timer });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui fluid icon input\">\r\n        <input\r\n          type=\"text\"\r\n          value={this.state.currentKeyword}\r\n          onChange={this.onKeywordChange}\r\n          placeholder=\"Masukkan NIM atau Nama\"\r\n        />\r\n        <i className=\"search icon\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  style = {\r\n    fontFamily: \"'Open Sans', sans-serif\",\r\n    fontWeight: \"600\"\r\n    // color: \"white\"\r\n  };\r\n}\r\n\r\nconst mapDispatchToState = dispatch => {\r\n  return {\r\n    search: (keyword, userToken, isOnDemand, page) =>\r\n      dispatch(search(keyword, userToken, isOnDemand, page))\r\n  };\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userToken: state.auth.userToken\r\n  };\r\n};\r\n\r\nexport const SearchBar = connect(\r\n  mapStateToProps,\r\n  mapDispatchToState\r\n)(SearchBarComponent);\r\n","import React from \"react\";\r\n\r\nexport const Result = ({ item }) => {\r\n  return (\r\n    <div className=\"item\">\r\n      <img\r\n        className=\"ui avatar image\"\r\n        src={`https://ui-avatars.com/api/?name=${item.name}&rounded=true`}\r\n        alt=\"user profile\"\r\n      />\r\n      <div className=\"content\">\r\n        <div className=\"header\">{item.name}</div>\r\n        <div className=\"ui horizontal divided list\">\r\n          <div className=\"item\">\r\n            <div className=\"description\">{item.prodi}</div>\r\n          </div>\r\n          <div className=\"item\">\r\n            <div className=\"description\">{item.nim_jur}</div>\r\n          </div>\r\n          <div className=\"item\">\r\n            <div className=\"description\">{item.nim_tpb}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Result } from \"./Result\";\r\nimport { Message } from \"../../../../components/Message\";\r\nimport { connect } from \"react-redux\";\r\nimport { search } from \"../../../../store/actions\";\r\n\r\nimport _ from \"lodash\";\r\n\r\nclass ResultsComponent extends Component {\r\n  handleScroll = _.throttle(e => {\r\n    const { scrollHeight, scrollTop, clientHeight } = document.documentElement;\r\n    // if sisa height < 100\r\n    const reachBottom = scrollHeight - (scrollTop + clientHeight) < 100;\r\n    const { userToken, keyword, page, isLoading, hasMore } = this.props;\r\n    if (reachBottom && hasMore && !isLoading) {\r\n      this.props.onDemand(userToken, keyword, page);\r\n    }\r\n  }, 500);\r\n\r\n  componentDidMount = () => {\r\n    window.addEventListener(\"scroll\", this.handleScroll, true);\r\n  };\r\n\r\n  render() {\r\n    let content, message;\r\n\r\n    const renderedItem = items => {\r\n      return items.map(item => {\r\n        return <Result key={item.nim_jur} item={item} />;\r\n      });\r\n    };\r\n    if (this.props.results) {\r\n      content = (\r\n        <div className=\"ui very relaxed selection animated divided list\">\r\n          {renderedItem(this.props.results)}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (this.props.message) {\r\n      message = (\r\n        <div>\r\n          <Message\r\n            className={this.props.message.type}\r\n            header={this.props.message.header}\r\n            message={this.props.message.message}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div style={{ marginTop: \"20px\", marginBottom: \"30px\" }}>\r\n        {content}\r\n        {message}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userToken: state.auth.userToken,\r\n    results: state.search.results,\r\n    message: state.search.message,\r\n    page: state.search.page,\r\n    isLoading: state.search.isLoading,\r\n    keyword: state.search.keyword,\r\n    hasMore: state.search.hasMore\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onDemand: (userToken, keyword, page) =>\r\n      dispatch(search(keyword, userToken, true, page + 1))\r\n  };\r\n};\r\n\r\nexport const Results = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ResultsComponent);\r\n","import React, { Component } from \"react\";\r\nimport { SearchBar } from \"../../../components/SearchBar\";\r\nimport { Results } from \"./Results\";\r\nimport { connect } from \"react-redux\";\r\nimport stya from \"../../../apis/stya\";\r\n\r\nclass NIMFinderComponent extends Component {\r\n  state = {\r\n    currentKeyword: \"\",\r\n    results: [],\r\n    message: null\r\n  };\r\n\r\n  onKeywordChange = async keyword => {\r\n    if (keyword.length > 0) {\r\n      this.setState({ currentKeyword: keyword });\r\n\r\n      var payload = await stya.get(\"/byname\", {\r\n        headers: {\r\n          \"Auth-Token\": this.props.userToken\r\n        },\r\n        params: {\r\n          name: this.state.currentKeyword,\r\n          count: 50,\r\n          page: 0\r\n        }\r\n      });\r\n      payload = payload.data.payload;\r\n\r\n      if (payload.length > 0) {\r\n        this.setState({ results: payload, message: null });\r\n      } else {\r\n        this.setState({\r\n          message: {\r\n            type: \"negative\",\r\n            header: \"Not Found!\",\r\n            message: \"Sorry, we can't find any result :(\"\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      this.setState({\r\n        message: {\r\n          type: \"blue\",\r\n          header: \"Searching?\",\r\n          message: \"Please type in your keyword\"\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.onKeywordChange(\"\");\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <SearchBar onChange={this.onKeywordChange} />\r\n        <Results results={this.state.results} message={this.state.message} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userToken: state.auth.userToken\r\n  };\r\n};\r\n\r\nexport const NIMFinder = connect(mapStateToProps)(NIMFinderComponent);\r\n","import React, { Component } from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport { Layout } from \"../scenes/Layout\";\r\nimport { Login } from \"../scenes/Layout/Login\";\r\nimport { NIMFinder } from \"../scenes/Layout/NIMFinder\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { tryLoginAtStart, logoutOnTokenExpire } from \"../store/actions\";\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.tryLoginAtStart();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui container\" style={this.style}>\r\n        <Layout>\r\n          <Switch>\r\n            <Route path=\"/login\" component={Login} />\r\n            {!this.props.isLoggedIn ? <Redirect to=\"/login\" /> : null}\r\n            {this.props.isLoggedIn ? (\r\n              <Route path=\"/\" component={NIMFinder} />\r\n            ) : null}\r\n          </Switch>\r\n        </Layout>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isLoggedIn: state.auth.userToken != null,\r\n    logoutTimer: state.auth.logoutTimer\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    tryLoginAtStart: () => dispatch(tryLoginAtStart()),\r\n    logoutOnTokenExpire: duration => dispatch(logoutOnTokenExpire(duration))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  userToken: null,\r\n  authMessage: null,\r\n  authLoading: false,\r\n  logoutTimer: null\r\n};\r\n\r\nconst authStart = state => {\r\n  return { ...state, authMessage: null, authLoading: true };\r\n};\r\n\r\nconst authSuccess = (state, action) => {\r\n  return {\r\n    ...state,\r\n    userToken: action.userToken,\r\n    authLoading: false,\r\n    authMessage: {\r\n      type: \"positive\",\r\n      header: \"Login success!\",\r\n      message: \"You have been logged in successfully!\"\r\n    }\r\n  };\r\n};\r\n\r\nconst regisSucces = (state, action) => {\r\n  return {\r\n    ...state,\r\n    authMessage: {\r\n      type: \"positive\",\r\n      header: action.header,\r\n      message: action.message\r\n    }\r\n  };\r\n};\r\n\r\nconst authFail = (state, action) => {\r\n  return {\r\n    ...state,\r\n    authMessage: {\r\n      type: \"negative\",\r\n      header: action.header,\r\n      message: action.message\r\n    },\r\n    authLoading: false\r\n  };\r\n};\r\n\r\nconst authLogout = state => {\r\n  return initialState;\r\n};\r\n\r\nconst logoutTimeout = (state, action) => {\r\n  clearTimeout(state.logoutTimer);\r\n  return { ...state, logoutTimer: action.timer };\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.AUTH_START:\r\n      return authStart(state);\r\n    case actionTypes.AUTH_SUCCESS:\r\n      return authSuccess(state, action);\r\n    case actionTypes.AUTH_FAIL:\r\n      return authFail(state, action);\r\n    case actionTypes.REGIS_SUCCESS:\r\n      return regisSucces(state, action);\r\n    case actionTypes.AUTH_LOGOUT:\r\n      return authLogout(state);\r\n    case actionTypes.LOGOUT_TIMEOUT:\r\n      return logoutTimeout(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  results: [],\r\n  message: null,\r\n  hasMore: false,\r\n  page: 0,\r\n  isLoading: false,\r\n  keyword: \"\"\r\n};\r\n\r\nconst searchFound = (state, action) => {\r\n  var results, page;\r\n  if (action.isOnDemand) {\r\n    results = [...state.results, ...action.results];\r\n    page = state.page + 1;\r\n  } else {\r\n    results = action.results;\r\n    page = 0;\r\n  }\r\n  return {\r\n    ...state,\r\n    results: results,\r\n    message: null,\r\n    isLoading: false,\r\n    page: page,\r\n    hasMore: action.hasMore\r\n  };\r\n};\r\n\r\nconst sendSearchMessage = (state, action) => {\r\n  return { ...state, message: action.message, results: [], isLoading: false };\r\n};\r\n\r\nconst searchStart = (state, action) => {\r\n  return {\r\n    ...state,\r\n    message: action.message,\r\n    isLoading: true,\r\n    keyword: action.keyword\r\n  };\r\n};\r\n\r\nconst searchingReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.SEARCH_START:\r\n      return searchStart(state, action);\r\n    case actionTypes.SEARCH_FOUND:\r\n      return searchFound(state, action);\r\n    case actionTypes.SEARCH_NOT_FOUND:\r\n      return sendSearchMessage(state, action);\r\n    case actionTypes.NOT_SEARCHING:\r\n      return sendSearchMessage(state, action);\r\n    case actionTypes.AUTH_LOGOUT:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default searchingReducer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { createStore, applyMiddleware, combineReducers, compose } from \"redux\";\r\n\r\nimport App from \"./components/App\";\r\nimport { authReducer, searchReducer } from \"./store/reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst combinedReducers = combineReducers({\r\n  auth: authReducer,\r\n  search: searchReducer\r\n});\r\nconst store = createStore(\r\n  combinedReducers,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}